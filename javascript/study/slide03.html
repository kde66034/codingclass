<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 슬라이드 03</title>
    
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
    
</head>
<body>
    <header id="header">
        <h1><a href="../index.html">JavaScript</a></h1>
        <nav class="header_nav">
            <ul>
                <li><a href="../javascript01.html">데이터 저장하기</a></li>
                <li><a href="../javascript02.html">데이터 불러오기</a></li>
                <li><a href="../javascript03.html">데이터 실행하기</a></li>
                <li><a href="../javascript04.html">데이터 제어하기</a></li>
            </ul>
            <ul>
                <li><a href="../javascript05.html">문자열 객체</a></li>
                <li><a href="../javascript06.html">배열 객체</a></li>
                <li><a href="../javascript07.html">수학 객체</a></li>
                <li><a href="../javascript08.html">숫자 객체</a></li>
                <li><a href="../javascript09.html">브라우저 객체</a></li>
                <li><a href="../javascript10.html">요소 객체</a></li>
                <li><a href="../javascript11.html">이벤트 객체</a></li>
            </ul>
            <ul class="effect">
                <li><a href="../effect/searchEffect01.html">검색 효과</a></li>
                <li><a href="../effect/quizEffect01.html">퀴즈 효과</a></li>
                <li><a href="../effect/textEffect01.html">텍스트 효과</a></li>
                <li><a href="../effect/mouseEffect01.html">마우스 효과</a></li>
                <li><a href="../effect/sliderEffect01.html">슬라이드 효과</a></li>
                <li><a href="../effect/parallaxEffect01.html">패랠랙스 효과</a></li>
                <li><a href="../effect/gameEffect01.html">게임 효과</a></li>
            </ul>
            <ul class="study">
                <li><a href="basic.html">기본 규칙</a></li>
                <li><a href="operator.html">연산자</a></li>
                <li><a href="for.html">반복문</a></li>
                <li><a href="if.html">조건문</a></li>
                <li><a href="type.html">데이터 타입</a></li>
                <li><a href="function.html">함수</a></li>
                <li><a href="var.html">지역변수·전역변수</a></li>
                <li><a href="element.html">요소 선택</a></li>
                <li><a href="quiz01.html">퀴즈 만들기 01</a></li>
                <li><a href="quiz02.html">퀴즈 만들기 02</a></li>
                <li><a href="quiz03.html">퀴즈 만들기 03</a></li>
                <li><a href="quiz04.html">퀴즈 만들기 04</a></li>
            </ul>
        </nav>
    </header>
    <!-- // header -->

    <main id="main">
        <div class="document">
            <h2 class="t_tit">슬라이드 이펙트 03</h2>
            <p class="t_desc2">
                이번 시간에는 그 동안 배웠던 JavaScript를 이용하여 슬라이드 이펙트를 만들어보도록 하겠습니다. 
                2초마다 다음 사진으로 슬라이드 되는 효과이며, JS 코드를 보여드리겠습니다.
                HTML, CSS 코드는 원본 소스 보기 버튼을 눌러 확인해주세요. <br>
                <br>
                자, 그럼 시작해볼까요?
            </p>

     <!-- // 슬라이드 이펙트 만들기  -->

    <hr>

            <h3 class="t_tit2">01. 변수와 상수(const/let) 선언하기
            </h3>
            <p class="t_desc">
                필요한 만큼의 변수와 상수를 선언해주도록 한다.
            </p>
            <div class="t_code">
<pre><code class="language-js">const sliderWrap = document.querySelector(".slider__wrap");
const sliderImg = document.querySelector(".slider__img");       // 보여지는 영역
const sliderInner = document.querySelector(".slider__inner");   // 움직이는 영역
const slider = document.querySelectorAll(".slider");            // 각각의 이미지
    
let currentIndex = 0;                                               // 현재 보이는 이미지
let sliderCount = slider.length;                                    // 이미지 개수
let sliderWidth = sliderImg.offsetWidth;                            // 이미지 가로값
let sliderClone = sliderInner.firstElementChild.cloneNode(true);    // 첫번째 이미지 복사
sliderInner.appendChild(sliderClone);                               // 첫번째 이미지를 마지막에 넣어줌
</code></pre>
            </div>
            <!-- // 변수상수선언 -->

            <h3 class="t_tit2">02. 애니메이션 효과 주기
            </h3>
            <p class="t_desc">
                아래 코드와 같이 CSS에서 주던 방식과 흡사하게 transition, transform 등으로 애니메이션 효과를 줄 수 있다.
            </p>
            <div class="t_code">
<pre><code class="language-js">const sliderWrap = document.querySelector(".slider__wrap");
const sliderImg = document.querySelector(".slider__img");       // 보여지는 영역
const sliderInner = document.querySelector(".slider__inner");   // 움직이는 영역
const slider = document.querySelectorAll(".slider");            // 각각의 이미지
    
let currentIndex = 0;                                               // 현재 보이는 이미지
let sliderCount = slider.length;                                    // 이미지 개수
let sliderWidth = sliderImg.offsetWidth;                            // 이미지 가로값
let sliderClone = sliderInner.firstElementChild.cloneNode(true);    // 첫번째 이미지 복사
sliderInner.appendChild(sliderClone);                               // 첫번째 이미지를 마지막에 넣어줌
    
function sliderEffect() {
    currentIndex++;
    sliderInner.style.transition = "all 0.6s";  // 부드러운 움직임
    sliderInner.style.transform = "translateX(-"+ sliderWidth * currentIndex +"px)";    // 이미지 width값(800px) * 이미지 번호
    
    // sliderInner.style.transform = "translateX(-800px)";      800*1
    // sliderInner.style.transform = "translateX(-1600px)";     800*2
    // sliderInner.style.transform = "translateX(-2400px)";     800*3
    // sliderInner.style.transform = "translateX(-3200px)";     800*4
    // sliderInner.style.transform = "translateX(-4000px)";     800*5
    // sliderInner.style.transform = "translateX(-4800px)";     800*6
</code></pre>
            </div>
            <!-- // 애니메이션효과주기 -->

            <h3 class="t_tit2">03. 마무리 작업
            </h3>
            <p class="t_desc">
                마지막 사진에서 다시 첫번째 사진으로 돌아올 때 부자연스러운 동작을 아래 예시 코드와 같이 자연스럽게 만든다.
            </p>
            <div class="t_code">
<pre><code class="language-js">     // 마지막 사진에 위치했을 때
    // 현재 이미지 번호 == 이미지 개수가 같아질 때 (마지막을 의미함)
    if(currentIndex == sliderCount) {
        setTimeout(() => {
            sliderInner.style.transition = "0s";
            sliderInner.style.transform = "translateX(0px)";
        }, 700);    // setTimeout으로 마지막에서 첫번째로 돌아올 때의 움직임 부드럽게 함
    
        currentIndex = 0;   // 마지막 사진 왔을 때 초기화시킴
    }
}    
</code></pre>
            </div>
            <!-- // 애니메이션효과주기 -->

            
            <!-- // 슬라이드03 -->

            <div class="t_iframe" style="height: 1000px; padding-top: 0;">
                <iframe src="https://kde66034.github.io/coding/javascript/effect/sliderEffect03.html" frameborder="0"></iframe>
            </div>
            <div class="t_link">
                <a href="https://github.com/kde66034/coding/blob/main/javascript/effect/sliderEffect03.html">원본(HTML/JS) 소스 보기</a>
            </div>
            <div class="t_link">
                <a href="https://github.com/kde66034/coding/blob/main/javascript/assets/css/slider.css">CSS 소스 보기</a>
            </div>
            <!-- //  -->

        </div>
    </main>
    <!-- // main -->

    <footer id="footer">
        <a href="mailto:kde66034@gmail.com">kde66034@gmail.com</a>
    </footer>
    <!-- // footer -->
    <script src="../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>

    <script>
        
    </script>

</body>
</html>